<!DOCTYPE html>
<html>
<head>
  <title>Query Enhancer (Rewrite + HyDE)</title>
  <style>
    body { font-family: Arial; max-width: 850px; margin: auto; padding: 30px; }
    textarea { width: 100%; font-size: 17px; padding: 10px; }
    button { font-size: 18px; padding: 12px 20px; margin-top: 10px; cursor: pointer; }
    .box { background: #f1f1f1; padding: 15px; margin-top: 15px; border-radius: 6px; white-space: pre-wrap; }
  </style>
</head>
<body>

<h2>Query Enhancer (Rewrite + HyDE)</h2>
<p>Type any question and see how the system expands it for RAG retrieval.</p>

<textarea id="query" rows="4" placeholder="Enter your query..."></textarea>
<button onclick="enhance()">Enhance Query</button>

<div id="results"></div>

<script>
async function enhance() {
  const q = document.getElementById("query").value;
  document.getElementById("results").innerHTML = "<p>Processing...</p>";

  const res = await fetch("/enhance", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ query: q })
  });

  const out = await res.json();

  document.getElementById("results").innerHTML = `
    <div class='box'><b>Original Query:</b>\n${out.original_query}</div>
    <div class='box'><b>Rewritten Query:</b>\n${out.rewritten_query}</div>
    <div class='box'><b>Hypothetical Document (HyDE):</b>\n${out.hypothetical_document}</div>
  `;
}
</script>

</body>
</html>
